<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>MzMLToMzLite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="David Zimmer, Jonathan Ott, Heinrich Lukas Weil, Timo Muehlhaus">
    <link rel="shortcut icon" type="image/x-icon" href="https://csbiology.github.io/ProteomIQon//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="https://csbiology.github.io/ProteomIQon/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://csbiology.github.io/ProteomIQon/content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://csbiology.github.io/ProteomIQon/content/fsdocs-tips.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/js/bulma-collapsible.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/css/bulma-collapsible.min.css">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="https://csbiology.github.io/ProteomIQon/">
                        <figure class="image is-128x128 container">
                            <img src="https://csbiology.github.io/ProteomIQon/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">ProteomIQon</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">General</li>
                        <li class="nav-item"><a href="/ProteomIQon">Home</a></li>
                        <li class="nav-header">
  Tools
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/MzMLToMzLite.html">
    MzMLToMzLite
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/PeptideDB.html">
    PeptideDB
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/PeptideSpectrumMatching.html">
    PeptideSpectrumMatching
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/PSMStatistics.html">
    PSMStatistics
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/PSMBasedQuantification.html">
    PSMBasedQuantification
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/ProteinInference.html">
    ProteinInference
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/AddDeducedPeptides.html">
    AddDeducedPeptides
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/JoinQuantPepIonsWithProteins.html">
    JoinQuantPepIonsWithProteins
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/LabelFreeProteinQuantification.html">
    LabelFreeProteinQuantification
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/tools/LabeledProteinQuantification.html">
    LabeledProteinQuantification
  </a>
</li>             
<li class="nav-header">
  Developer Notes
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/develop/How_to_create_a_tool.html">
    How to create your own tool
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/develop/How_to_document_your_work.html">
    How to document your work
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://csbiology.github.io/ProteomIQon/develop/How_to_build_binaries_or_packages.html">
    How to build binaries or packages
  </a>
</li>
                        <li class="nav-header">Powered By</li>
                        <li class="nav-item"><a href="https://github.com/CSBiology/MzIO">MzIO</a></li>
                        <li class="nav-item"><a href="https://github.com/CSBiology/BioFSharp">BioFSharp</a></li>
                        <li class="nav-item"><a href="https://github.com/CSBiology/BioFSharp.Mz">BioFSharp.Mz</a></li>
                        <li class="nav-item"><a href="https://github.com/fslaborg/FSharp.Stats">FSharp.Stats</a></li>
                        <li class="nav-item"><a href="https://github.com/fslaborg/Deedle">Deedle</a></li>
                        <li class="nav-item"><a href="https://fsharp.org">FSharp</a></li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    
<p><a href="https://mybinder.org/v2/gh/csbiology/ProteomIQon/gh-pages?filepath=tools/MzMLToMzLite.ipynb"><img src="https://csbiology.github.io/ProteomIQon/img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="https://csbiology.github.io/ProteomIQon/tools/MzMLToMzLite.fsx"><img src="https://csbiology.github.io/ProteomIQon/img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="https://csbiology.github.io/ProteomIQon/tools/MzMLToMzLite.ipynb"><img src="https://csbiology.github.io/ProteomIQon/img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="mzMl-to-mzlite-Conversion" class="anchor" href="#mzMl-to-mzlite-Conversion">mzMl to mzlite Conversion</a></h1>
<p><strong>Disclaimer</strong> this tool converts <a href="https://www.psidev.info/mzML">mzML</a> to <a href="https://github.com/CSBiology/MzIO/blob/developer/src/MzIO.SQL/MzIOSQL.fs">mzLite</a>
if you want to convert the other way around please visit the <a href="https://csbiology.github.io/ProteomIQon/tools/MzLiteToMzML.html">MzLiteToMzML</a> documentation.
We recommend the use of <a href="https://www.nature.com/articles/nbt.2377">msconvert</a> to convert your raw data into .mzML.
A user friendly way to execute msconvert is available through <a href="https://galaxyproject.eu/posts/2019/03/24/msconvert/">Galaxy Europe</a>.</p>
<p>The success of modern proteomics was made possible by constant progression in the field of mass spectrometry. Over the course of the past years quite a few
manufacturers of mass spectrometers have managed to establish themselfes in the field of biological research. Since aquisition and accession of mass spectra are performance critical processes,
various performance optimized, but vendor specific and closed source formats have been developed to store raw MS data.
This comes to the disadvantage for toolchain developers which want to provide tools for every scientist regardless of the format of their raw data.</p>
<p>In a effort to provide an open format for the storage of MS data the format <a href="https://www.psidev.info/mzML">mzML</a> was developed. While this XML based format is straight forward to implement
it falls behind in performance critical scenarios. To be competitive in performance and to comply to the <a href="https://www.go-fair.org/fair-principles/">FAIR principles</a> we chose
to use <a href="https://github.com/CSBiology/MzIO/blob/developer/src/MzIO.SQL/MzIOSQL.fs">mzLite</a>, an open and SQLite based implementation of mzML, within our toolchain.</p>
<p>The tool mzMLToMzLite allows to convert mzML files to mzLite files. Additionally, it allows the user to perform peak picking or filtering of mass spectra.</p>
<h2><a name="Parameters" class="anchor" href="#Parameters">Parameters</a></h2>
<p>The following table gives an overview of the parameter set:</p>
<table>
<thead>
<tr class="header">
<th><p><strong>Parameter</strong></p></th>
<th><p><strong>Default Value</strong></p></th>
<th><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Compress</p></td>
<td><p>MzIO.Binary.BinaryDataCompressionType.NoCompression</p></td>
<td><p>Indicates if peak data should be compressed</p></td>
</tr>
<tr class="even">
<td><p>StartRetentionTime</p></td>
<td><p>None</p></td>
<td><p>Minimum scan time for spectra to be copied</p></td>
</tr>
<tr class="odd">
<td><p>EndRetentionTime</p></td>
<td><p>None</p></td>
<td><p>Maximum scan time for spectra to be copied</p></td>
</tr>
<tr class="even">
<td><p>MS1PeakPicking</p></td>
<td><p>PeakPicking.ProfilePeaks</p></td>
<td><p>Parameter to configure peak picking</p></td>
</tr>
<tr class="odd">
<td><p>MS2PeakPicking</p></td>
<td><p>PeakPicking.ProfilePeaks</p></td>
<td><p>Parameter to configure peak picking</p></td>
</tr>
</tbody>
</table>

<h2><a name="Parameter-Generation" class="anchor" href="#Parameter-Generation">Parameter Generation</a></h2>
<p>Parameters are handed to the cli tool as a .json file. you can download the default file <a href="https://github.com/CSBiology/ProteomIQon/blob/master/src/ProteomIQon/defaultParams/mzMLToMzLiteParams.json">here</a>,
or use an F# script, which can be downloaded or run in Binder at the top of the page, to write your own parameter file:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: ProteomIQon, 0.0.5&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">ProteomIQon</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="id">ProteomIQon</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="m">Domain</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="id">defaultMzMLToMzLiteParams</span> <span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="m">Dto</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="id">MzMLtoMzLiteParams</span> <span class="o">=</span>   
    <span class="pn">{</span>
        <span class="prop">Compress</span>                    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="id">MzIO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">Binary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="en">BinaryDataCompressionType</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="id">NoCompression</span>
        <span class="prop">StartRetentionTime</span>          <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="uc">None</span>
        <span class="prop">EndRetentionTime</span>            <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="uc">None</span>
        <span class="prop">MS1PeakPicking</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="rt">PeakPicking</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="id">ProfilePeaks</span>
        <span class="prop">MS2PeakPicking</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="rt">PeakPicking</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="id">ProfilePeaks</span> 
    <span class="pn">}</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="id">serialized</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs3', 18)" onmouseover="showTip(event, 'fs3', 18)" class="id">defaultMzMLToMzLiteParams</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 20)" onmouseover="showTip(event, 'fs15', 20)" class="id">serialize</span>
</code></pre>
<h2><a name="Executing-the-Tool" class="anchor" href="#Executing-the-Tool">Executing the Tool</a></h2>
<p><strong>Disclaimer</strong> this tool converts <a href="https://www.psidev.info/mzML">mzML</a> to <a href="https://github.com/CSBiology/MzIO/blob/developer/src/MzIO.SQL/MzIOSQL.fs">mzLite</a>
if you want to convert the other way around please visit the <a href="https://csbiology.github.io/ProteomIQon/tools/MzLiteToMzML.html">MzLiteToMzML</a> documentation.
We recommend the use of <a href="https://www.nature.com/articles/nbt.2377">msconvert</a> to convert your raw data into .mzML.
A user friendly way to execute msconvert is available through <a href="https://galaxyproject.eu/posts/2019/03/24/msconvert/">Galaxy Europe</a>.</p>
<p>To convert a mzML file to mzLite call:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">proteomiqon</span><span class="o">-</span><span class="id">mzmltomzlite</span> <span class="o">-</span><span class="id">i</span> <span class="s">&quot;path/to/your/run.mzML&quot;</span> <span class="o">-</span><span class="id">o</span> <span class="s">&quot;path/to/your/outDirectory&quot;</span> <span class="o">-</span><span class="id">p</span> <span class="s">&quot;path/to/your/params.json&quot;</span>
</code></pre>
<p>It is also possible to call the tool on a list of .mzML files. If you have a mulitcore cpu it is possible to convert multiple runs in parallel using the -c flag:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">proteomiqon</span><span class="o">-</span><span class="id">mzmltomzlite</span> <span class="o">-</span><span class="id">i</span> <span class="s">&quot;path/to/your/run1.mzML&quot;</span> <span class="s">&quot;path/to/your/run2.mzML&quot;</span> <span class="s">&quot;path/to/your/run3.mzML&quot;</span> <span class="o">-</span><span class="id">o</span> <span class="s">&quot;path/to/your/outDirectory&quot;</span> <span class="o">-</span><span class="id">p</span> <span class="s">&quot;path/to/your/params.json&quot;</span> <span class="o">-</span><span class="id">c</span> <span class="n">3</span>
</code></pre>
<p>A detailed description of the CLI arguments the tool expects can be obtained by calling the tool:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">proteomiqon</span><span class="o">-</span><span class="id">mzmltomzlite</span> <span class="pn">--</span><span class="id">help</span>
</code></pre>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">namespace ProteomIQon</div>
<div class="fsdocs-tip" id="fs2">module Domain<br /><br />from ProteomIQon</div>
<div class="fsdocs-tip" id="fs3">val defaultMzMLToMzLiteParams : Dto.MzMLtoMzLiteParams</div>
<div class="fsdocs-tip" id="fs4">module Dto<br /><br />from ProteomIQon</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />module MzMLtoMzLiteParams<br /><br />from ProteomIQon.Dto<br /><br />--------------------<br />type MzMLtoMzLiteParams = Dto.PreprocessingParams</div>
<div class="fsdocs-tip" id="fs6">namespace MzIO</div>
<div class="fsdocs-tip" id="fs7">namespace MzIO.Binary</div>
<div class="fsdocs-tip" id="fs8">type BinaryDataCompressionType =<br />&#160;&#160;| NoCompression = 0<br />&#160;&#160;| ZLib = 1<br />&#160;&#160;| NumPress = 2<br />&#160;&#160;| NumPressZLib = 3<br />&#160;&#160;| NumPressPic = 4<br />&#160;&#160;| NumPressLin = 5</div>
<div class="fsdocs-tip" id="fs9">MzIO.Binary.BinaryDataCompressionType.NoCompression: MzIO.Binary.BinaryDataCompressionType = 0</div>
<div class="fsdocs-tip" id="fs10">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs11">type PeakPicking =<br />&#160;&#160;| ProfilePeaks<br />&#160;&#160;| Centroid of CentroidizationMode</div>
<div class="fsdocs-tip" id="fs12">union case PeakPicking.ProfilePeaks: PeakPicking</div>
<div class="fsdocs-tip" id="fs13">val serialized : string</div>
<div class="fsdocs-tip" id="fs14">module Json<br /><br />from ProteomIQon</div>
<div class="fsdocs-tip" id="fs15">val serialize : obj:&#39;a -&gt; string</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = 'https://csbiology.github.io/ProteomIQon/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="https://csbiology.github.io/ProteomIQon/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>
<footer>
    <script>
        bulmaCollapsible.attach('.is-collapsible');
    </script>
</footer>
</html>